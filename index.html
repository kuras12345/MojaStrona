
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Moja Strona z Kopiowaniem</title>
</head>
<body>

    <div class="code-container">
        <p><b>Pierwszy fragment:</b></p>
        <button class="copy-button">Kopiuj</button>
        <pre><code class="code-to-copy">ala ma kota</code></pre>
    </div>

    <hr> <div class="code-container">
        <p><b>Drugi fragment (np. link):</b></p>
        <button class="copy-button">Kopiuj</button>
        <pre><code class="code-to-copy">https://github.com</code></pre>
    </div>

    <div class="code-container">
        <p><b>trzeci fragment:</b></p>
        <button class="copy-button">Kopiuj</button>
        <pre><code class="code-to-copy">kota</code></pre>
    </div>

    <script>
        // Znajdź WSZYSTKIE przyciski z klasą 'copy-button'
const allCopyButtons = document.querySelectorAll('.copy-button');

// Dla każdego znalezionego przycisku...
allCopyButtons.forEach(copyButton => {

    // ...dodaj nasłuchiwanie na kliknięcie
    copyButton.addEventListener('click', (event) => {
        
        // Znajdź najbliższy "rodzicielski" kontener dla klikniętego przycisku
        const container = event.target.closest('.code-container');
        
        // Wewnątrz tego kontenera znajdź element z tekstem do skopiowania
        const codeBlock = container.querySelector('.code-to-copy');
        
        // Pobierz tekst z tego elementu
        const codeToCopy = codeBlock.innerText;

        // Użyj API schowka, aby skopiować tekst
        navigator.clipboard.writeText(codeToCopy).then(() => {
            // Jeśli się udało, zmień tekst przycisku
            copyButton.textContent = 'Skopiowano!';
            
            // Po 2 sekundach przywróć oryginalny tekst
            setTimeout(() => {
                copyButton.textContent = 'Kopiuj';
            }, 2000);

        }).catch(err => {
            // Jeśli wystąpił błąd, pokaż go w konsoli
            console.error('Błąd podczas kopiowania: ', err);
            copyButton.textContent = 'Błąd!';
        });
    });
});    </script>

</body>
</html>
